# 龙虎斗 - 网络对战说明

## 问题原因

当前游戏使用 **localStorage**（浏览器本地存储）来实现房间功能，这有以下限制：

### localStorage 的特点
- ✅ 数据存储在**单个浏览器**中
- ❌ 不会同步到服务器
- ❌ 其他设备/浏览器无法访问
- ❌ 关闭浏览器标签页后数据可能丢失

### 为什么对方显示"房间不存在"

```
你的设备                    朋友的设备
┌─────────────┐            ┌─────────────┐
│  浏览器A     │            │  浏览器B     │
│ localStorage │     ❌     │ localStorage │
│  房间数据    │  ←──────→  │   空（无数据）│
└─────────────┘   不互通    └─────────────┘
```

当你创建房间时，数据只存在于**你的浏览器**中，朋友的浏览器没有这些数据，所以提示"房间不存在"。

---

## 解决方案

### 方案1：同一台设备（推荐，立即可用）
两人使用**同一台电脑/手机**，轮流操作

### 方案2：屏幕共享
1. 创建者开启屏幕共享（腾讯会议/Discord/微信视频等）
2. 对方通过视频观看棋盘
3. 创建者根据对方指令操作

### 方案3：使用公共电脑
将游戏部署到有公共访问权限的环境

---

## 真正的在线对战需要什么

要实现跨设备实时对战，需要：

```
你的设备 ──→ 后端服务器 ←── 朋友设备
            (WebSocket)
```

需要的技术栈：
- 后端服务器（Node.js/Python/Java）
- WebSocket 实时通信
- 数据库（Redis/MongoDB）存储房间数据
- 或者使用 Firebase / Supabase 等实时数据库

---

## 当前游戏的正确使用方法

### 本地对战模式（推荐）
```
┌─────────────────────────┐
│      同一台设备          │
│  ┌─────┐    ┌─────┐    │
│  │龙方 │ vs │虎方 │    │
│  │玩家A│    │玩家B│    │
│  └─────┘    └─────┘    │
│      轮流点击操作        │
└─────────────────────────┘
```

### 在线对战模式（当前限制）
由于使用 localStorage，在线模式实际上只能在**同一个浏览器会话**中使用，无法跨设备。

---

## 总结

| 功能 | 当前支持 | 需要后端 |
|------|---------|---------|
| 本地对战（同一设备） | ✅ | 否 |
| 在线对战（跨设备） | ❌ | 是 |
| 房间系统 | ⚠️ 仅演示 | 是 |

要实现真正的在线对战，需要额外开发后端服务或使用第三方实时数据库服务。
